/*! For license information please see main.8cb6b952.chunk.js.LICENSE.txt */
(this["webpackJsonpreact-drupal-layout-builder-example"]=this["webpackJsonpreact-drupal-layout-builder-example"]||[]).push([[0],{13:function(e,t,n){"use strict";n.d(t,"a",(function(){return J})),n.d(t,"b",(function(){return K})),n.d(t,"c",(function(){return A})),n.d(t,"d",(function(){return Y})),n.d(t,"e",(function(){return Q}));var r=n(0),i=n.n(r),a=n(2),o=n(6);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return e(t={exports:{}},t.exports),t.exports}var s="function"===typeof Symbol&&Symbol.for,d=s?Symbol.for("react.element"):60103,p=s?Symbol.for("react.portal"):60106,f=s?Symbol.for("react.fragment"):60107,y=s?Symbol.for("react.strict_mode"):60108,m=s?Symbol.for("react.profiler"):60114,b=s?Symbol.for("react.provider"):60109,v=s?Symbol.for("react.context"):60110,h=s?Symbol.for("react.async_mode"):60111,g=s?Symbol.for("react.concurrent_mode"):60111,_=s?Symbol.for("react.forward_ref"):60112,j=s?Symbol.for("react.suspense"):60113,O=s?Symbol.for("react.suspense_list"):60120,E=s?Symbol.for("react.memo"):60115,S=s?Symbol.for("react.lazy"):60116,w=s?Symbol.for("react.block"):60121,R=s?Symbol.for("react.fundamental"):60117,k=s?Symbol.for("react.responder"):60118,C=s?Symbol.for("react.scope"):60119;function P(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case d:switch(e=e.type){case h:case g:case f:case m:case y:case j:return e;default:switch(e=e&&e.$$typeof){case v:case _:case S:case E:case b:return e;default:return t}}case p:return t}}}function q(e){return P(e)===g}var T={AsyncMode:h,ConcurrentMode:g,ContextConsumer:v,ContextProvider:b,Element:d,ForwardRef:_,Fragment:f,Lazy:S,Memo:E,Portal:p,Profiler:m,StrictMode:y,Suspense:j,isAsyncMode:function(e){return q(e)||P(e)===h},isConcurrentMode:q,isContextConsumer:function(e){return P(e)===v},isContextProvider:function(e){return P(e)===b},isElement:function(e){return"object"===typeof e&&null!==e&&e.$$typeof===d},isForwardRef:function(e){return P(e)===_},isFragment:function(e){return P(e)===f},isLazy:function(e){return P(e)===S},isMemo:function(e){return P(e)===E},isPortal:function(e){return P(e)===p},isProfiler:function(e){return P(e)===m},isStrictMode:function(e){return P(e)===y},isSuspense:function(e){return P(e)===j},isValidElementType:function(e){return"string"===typeof e||"function"===typeof e||e===f||e===g||e===m||e===y||e===j||e===O||"object"===typeof e&&null!==e&&(e.$$typeof===S||e.$$typeof===E||e.$$typeof===b||e.$$typeof===v||e.$$typeof===_||e.$$typeof===R||e.$$typeof===k||e.$$typeof===C||e.$$typeof===w)},typeOf:P},z=(c((function(e,t){0})),c((function(e){e.exports=T})),Object.getOwnPropertySymbols),$=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;function U(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}})()&&Object.assign;var F="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function I(e,t,n,r,i){}I.resetWarningCache=function(){0};Function.call.bind(Object.prototype.hasOwnProperty);function L(){}function M(){}M.resetWarningCache=L;var D=c((function(e){e.exports=function(){function e(e,t,n,r,i,a){if(a!==F){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:M,resetWarningCache:L};return n.PropTypes=n,n}()})),A=Object(r.createContext)(),N=function(e){var t=e.configuration,n=e.items,a=e.settings,o=e.parents,l=t.id.split(":")[3],u=Object(r.useContext)(A).params.catalog.formatters.find((function(e){return e.id===t.formatter.type}));if("undefined"!==typeof u){var c=u.component;return i.a.createElement(r.Suspense,{fallback:i.a.createElement("div",null,"Loading...")},i.a.createElement("div",{className:"field field--name-"+l+" field--label-"+t.formatter.label},"hidden"!==t.formatter.label&&i.a.createElement("div",{className:"field__label"},t.label),i.a.createElement("div",{className:"field__item"},i.a.createElement(c,{items:n,formatter:t.formatter,settings:a,parents:o}))))}return null};N.propTypes={configuration:D.shape({label:D.string.isRequired,formatter:D.shape({type:D.string.isRequired,label:D.string.isRequired}).isRequired}).isRequired,items:D.array.isRequired,settings:D.shape({}),parents:D.array.isRequired};var G=function(e){var t=e.block,n=e.parents;if(void 0===n)return console.log(n,t),i.a.createElement("div",null,"nada");var r=t.configuration.id.split(":")[3],a=n[0].getFieldValue(r),o=n[0].getFieldConfig(r);return i.a.createElement(N,{items:a,configuration:t.configuration,settings:o,parents:n})};G.propTypes={block:D.shape({}).isRequired,parents:D.array.isRequired};var B=function(e){return i.a.createElement("div",null,"Inline Block")},V=function(e){return i.a.createElement("div",null,"Extra field block")},J=function(e){var t=e.blocks,n=e.parents,a=Object(r.useContext)(A).params.catalog,o=[].concat(a.blocks,[{id:"field_block",component:G},{id:"inline_block",component:B},{id:"extra_field_block",component:V}]);return i.a.createElement("div",null,t.map((function(e){var t=o.find((function(t){return t.id===e.configuration.id}));if("undefined"!==typeof t){var a=t.component;return i.a.createElement(r.Suspense,{key:e.uuid,fallback:i.a.createElement("div",null,"Loading...")},i.a.createElement(a,{block:e,parents:n}))}var l=e.configuration.id.split(":")[0];if("undefined"!==typeof(t=o.find((function(e){return e.id===l})))){var u=t.component;return i.a.createElement(u,{key:e.uuid,block:e,parents:n})}return null})))};J.propTypes={blocks:D.arrayOf(D.shape({})).isRequired,parents:D.array.isRequired};var W=function(e){var t=e.regions,n=e.layoutId,r=e.parents;return i.a.createElement("div",{className:"layout layout--"+n},Object.keys(t).map((function(e,n){return i.a.createElement("div",{key:e,className:"layout__region layout__region--"+e},i.a.createElement(J,{blocks:t[e],parents:r}))})))};W.propTypes={parents:D.array.isRequired,regions:D.shape({}).isRequired,layoutId:D.string.isRequired};var Q=function(e){var t=e.parents;console.log(t);var n=Object(r.useContext)(A).params.catalog,a=t[0].getFieldValue("layout_builder__layout");return null===a?null:i.a.createElement("div",null,a.map((function(e,a){var o=n.sections.find((function(t){return t.id===(null===e||void 0===e?void 0:e.layout_id)})),u=e.components.reduce((function(e,t,n){var r,i;return"undefined"!==typeof e[t.region]?l({},e,((r={})[t.region]=[].concat(e[t.region],[t]),r)):l({},e,((i={})[t.region]=[t],i))}),{});if("undefined"!==typeof o){var c=o.component;return i.a.createElement(r.Suspense,{key:a,fallback:i.a.createElement("div",null,"Loading...")},i.a.createElement(c,{regions:u,layoutId:e.layout_id,parents:t}))}return i.a.createElement(W,{key:a,regions:u,layoutId:e.layout_id,parents:t})})))};Q.propTypes={parents:D.array.isRequired};"undefined"!==typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!==typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var H={Accept:"application/vnd.api+json","Content-Type":"application/vnd.api+json"},Y=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,u(t,n),r.FromResponse=function(e){var t=new r;return t._applySerializedData(e),t},r.LoadEntityDisplay=function(e,t,n,i,u,c){void 0===i&&(i=[]),void 0===u&&(u=!1),void 0===c&&(c="default");try{if(r.Cache[n]&&!1===u)return Promise.resolve(r.FromResponse(r.Cache[n]));var s=new o.DrupalJsonApiParams;return s.addFilter("id",[n],"IN"),i.length>0&&s.addInclude(i),Promise.resolve(a.GlobalClient.send({url:"/jsonapi/"+e+"/"+t+"/"+c+"?"+s.getQueryString({encode:!1}),method:"GET",headers:H})).then((function(i){var o=i.data;if(o&&o.data){var u=r.FromResponse(o.data[0]);return r.Cache[n]=l({},u._serialize().data,{id:u.entityUuid}),o.included&&o.included.forEach((function(e){var t=r.FromResponse(e);r.Cache[t.entityUuid]=l({},t._serialize().data,{id:t.entityUuid})})),u}throw new a.EntityNotFound("Failed to find entity matching entity type "+e+", entity bundle "+t+" and uuid "+n)}))}catch(f){return Promise.reject(f)}},r.LoadEntityDisplayMultiple=function(e){var t=e.entityType,n=e.entityBundle,i=e.entityUuids,u=void 0===i?[]:i,c=e.include,s=void 0===c?[]:c,d=e.pageLimit,p=void 0===d?50:d,y=e.viewMode,m=void 0===y?"default":y;try{var b=new o.DrupalJsonApiParams;return b.addFilter("id",u,"IN"),b.addPageLimit(p),s.length>0&&b.addInclude(s),Promise.resolve(a.GlobalClient.send({url:"/jsonapi/"+t+"/"+n+"/"+m+"?"+b.getQueryString({encode:!1}),method:"GET",headers:H})).then((function(e){var t=e.data;return t&&t.data&&t.data.length&&t.data.length>0?(t.included&&t.included.length&&t.included.forEach((function(e){var t=new r;t._applySerializedData(e),r.Cache[t.entityUuid]=l({},t._serialize().data,{id:t.entityUuid})})),t.data.map((function(e){var t=new r;return t._applySerializedData(e),r.Cache[t.entityUuid]=l({},t._serialize().data,{id:t.entityUuid}),t}))):t.data}))}catch(f){return Promise.reject(f)}},r.LoadEntityDisplayByProperties=function(e){var t=e.entityType,n=e.entityBundle,i=e.properties,u=void 0===i?{}:i,c=e.include,s=void 0===c?[]:c,d=e.pageLimit,p=void 0===d?50:d,y=e.viewMode,m=void 0===y?"default":y;try{var b=new o.DrupalJsonApiParams;for(var v in u)b.addFilter(v,u.field.value,u.field.operator);return b.addPageLimit(p),s.length>0&&b.addInclude(s),Promise.resolve(a.GlobalClient.send({url:"/jsonapi/"+t+"/"+n+"/"+m+"?"+b.getQueryString({encode:!1}),method:"GET",headers:H})).then((function(e){var t=e.data;return t&&t.data&&t.data.length&&t.data.length>0?(t.included&&t.included.length&&t.included.forEach((function(e){var t=new r;t._applySerializedData(e),r.Cache[t.entityUuid]=l({},t._serialize().data,{id:t.entityUuid})})),t.data.map((function(e){var t=new r;return t._applySerializedData(e),r.Cache[t.entityUuid]=l({},t._serialize().data,{id:t.entityUuid}),t}))):t.data}))}catch(f){return Promise.reject(f)}},r.LoadAsyncMethod=function(e,t,n,i,a){!function(){try{(function(e,t){try{var n=e()}catch(f){return t(!0,f)}n&&n.then?n.then(t.bind(null,!1),t.bind(null,!0)):t(!1,n)})((function(){return function(e,t){try{var n=e()}catch(f){return t(f)}return n&&n.then?n.then(void 0,t):n}((function(){if("function"!==typeof r[e])throw new Error("Missing method");return Promise.resolve(r[e].apply(r,t)).then((function(e){n(e)}))}),(function(e){i(e)}))}),(function(e,t){if(a(!1),e)throw t;return t}))}catch(f){Promise.reject(f)}}()};var i=r.prototype;return i.getFieldValue=function(e){var t,n,r,i,a=null===this||void 0===this||null===(t=this._attributes)||void 0===t||null===(n=t[e])||void 0===n?void 0:n.values;void 0===a&&(a=null===this||void 0===this||null===(r=this._relationships)||void 0===r||null===(i=r[e])||void 0===i?void 0:i.data);return"undefined"===typeof a?null:Array.isArray(a)?a:[a]},i.getFieldConfig=function(e){var t,n;return null===this||void 0===this||null===(t=this._attributes)||void 0===t||null===(n=t[e])||void 0===n?void 0:n.settings},i.sectionByUuid=function(e){return this.find((function(t){return t.uuid===e}))},i.getId=function(){return this.entityUuid},r}(a.Entity),K=function(e){var t=e.properties,n=e.params,o=e.parents,u=void 0===o?[]:o,c=Object(r.useState)(null),s=c[0],d=c[1],p=Object(r.useState)(!0),f=p[0],y=p[1],m=Object(r.useState)(null),b=m[0],v=m[1],h=void 0===(null===t||void 0===t?void 0:t.viewMode)?"default":t.viewMode;Object(r.useEffect)((function(){a.GlobalClient.baseUrl=n.api.baseUrl,a.GlobalClient.sendCookies=!1,Y.LoadAsyncMethod("LoadEntityDisplay",[t.entityType,t.bundle,t.uuid,[],!1,h],v,d,y)}),[t.entityType,t.bundle,t.uuid,h,n.api.baseUrl]);var g=[b].concat(u),_={params:l({},n)};return i.a.createElement(A.Provider,{value:_},f||null!==s?i.a.createElement("div",null,"Cargando..."):i.a.createElement(Q,{parents:g}))};K.propTypes={properties:D.shape({entityType:D.string.isRequired,bundle:D.string.isRequired,viewMode:D.string,uuid:D.string.isRequired}).isRequired,params:D.shape({api:D.shape({baseUrl:D.string.isRequired,settings:D.shape({})}).isRequired,catalog:D.shape({sections:D.arrayOf(D.shape({id:D.string.isRequired,component:D.object,regions:D.arrayOf(D.shape({id:D.string.isRequired})).isRequired})),blocks:D.arrayOf(D.shape({id:D.string.isRequired,component:D.object})),formatters:D.arrayOf(D.shape({id:D.string.isRequired,component:D.object}))}).isRequired})}},34:function(e,t,n){e.exports=n(72)},35:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);n(35);var r=n(0),i=n.n(r),a=n(29),o=n.n(a),l=n(13);var u=[{id:"layout_one_section",component:Object(r.lazy)(()=>n.e(13).then(n.bind(null,124))),regions:[{id:"content"}]},{id:"layout_twocol_section",component:Object(r.lazy)(()=>n.e(15).then(n.bind(null,125))),regions:[{id:"first"},{id:"second"}]},{id:"layout_threecol_section",component:Object(r.lazy)(()=>n.e(14).then(n.bind(null,126))),regions:[{id:"first"},{id:"second"},{id:"third"}]}];var c=[{id:"inline_block:basic",component:Object(r.lazy)(()=>n.e(6).then(n.bind(null,127)))},{id:"dynamicList",component:Object(r.lazy)(()=>n.e(8).then(n.bind(null,128)))},{id:"slider",component:Object(r.lazy)(()=>n.e(9).then(n.bind(null,129)))},{id:"content",component:Object(r.lazy)(()=>n.e(7).then(n.bind(null,130)))}];var s=[{id:"string",component:Object(r.lazy)(()=>n.e(11).then(n.bind(null,131)))},{id:"text_default",component:Object(r.lazy)(()=>n.e(12).then(n.bind(null,132)))},{id:"boolean",component:Object(r.lazy)(()=>n.e(4).then(n.bind(null,134)))},{id:"number_decimal",component:Object(r.lazy)(()=>n.e(5).then(n.bind(null,135)))},{id:"entity_reference_entity_view",component:Object(r.lazy)(()=>Promise.all([n.e(3),n.e(10)]).then(n.bind(null,133)))}];n(71);var d=()=>{const e={api:{baseUrl:"http://drupal_react.local",settings:{}},catalog:{sections:u,blocks:c,formatters:s}};return i.a.createElement(l.b,{params:e,properties:{entityType:"node",bundle:"page",uuid:"06682711-1b4b-4387-8c89-2ef056dc7c28"}})},p=n(74),f=n(8),y=n(30),m=f.a.language||"es";f.a.use(y.a).init({interpolation:{escapeValue:!1},lng:m,backend:{loadPath:"http://drupal_react.local/sites/default/files/translations/{{lng}}.json"}}),o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(p.a,{i18n:f.a},i.a.createElement(d,null))),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.8cb6b952.chunk.js.map